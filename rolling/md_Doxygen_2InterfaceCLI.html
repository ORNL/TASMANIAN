<!-- HTML header for doxygen 1.8.15-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Toolkit for Adaptive Stochastic Modeling and Non-Intrusive ApproximatioN: Tasmanian v8.2: Command Line Interface</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="tasmanian.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
    <div class="doxygen">
            <a href="http://www.doxygen.org/index.html">
                Doxygen
                </a> 1.9.8
    </div>
   <div id="projectname">Toolkit for Adaptive Stochastic Modeling and Non-Intrusive ApproximatioN: Tasmanian v8.2
           <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('md_Doxygen_2InterfaceCLI.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Command Line Interface</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md33"></a> The <b>tasgrid</b> executable is a command line interface to the Tasmanian Sparse Grid module. It provides the ability to create and manipulate sparse grids, save and load them into files and optionally interface with another program via text files. For the most part, <b>tasgrid</b> reads a grid from a file, calls one or more of the functions described in the previous section and then saves the resulting grid.</p>
<p>The commands for <b>tasgrid</b> correspond to calls to the C++ API, where scalar inputs are given as command line arguments and vector/array parameters are given as matrix files, see the end of this section for the matrix file format.</p>
<div class="fragment"><div class="line">./tasgrid &lt;command&gt; &lt;option1&gt; &lt;value1&gt; &lt;option2&gt; &lt;value2&gt; ....</div>
</div><!-- fragment --><p>The first input to the executable is the command that specifies the action that needs to be taken. The command is followed by options and values.</p>
<p>Every command is associated with a set of options, extra options are ignored. See the help subsection on how to find the right options for each command.</p>
<h2><a class="anchor" id="autotoc_md34"></a>
Example commands</h2>
<div class="fragment"><div class="line">./tasgrid -mq -dim 4 -depth 2 -type qptotal -1d gauss-legendre -p</div>
</div><!-- fragment --><p>Make quadrature rule in 4 dimensions that can integrate exactly all quadratic polynomials, print the result to the screen. Note that the first column is the weight.</p>
<div class="fragment"><div class="line">./tasgrid -mg -dim 3 -out 2 -depth 4 -type iptotal -1d clenshaw-curtis -gf example_grid_file</div>
<div class="line">./tasgrid -l -gf example_grid_file -vf file_with_values</div>
<div class="line">./tasgrid -e -gf example_grid_file -xf file_with_points -of result_file</div>
</div><!-- fragment --><p> The first command creates a global grid with 3 dimensions and clenshaw-curtis points that interpolate exactly all polynomials of order 4. The grid is stored in <em>example_grid_file</em>. In the second command, model values are read from the <em>file_with_values</em> and loaded into the grid. In the final command, the interpolant is evaluated at the points specified in <em>file_with_points</em> and the result is stored in the last file.</p>
<h2><a class="anchor" id="autotoc_md35"></a>
Command: -h, help, -help, â€“help</h2>
<div class="fragment"><div class="line">./tasgrid --help</div>
<div class="line">./tasgrid -makequadrature help</div>
</div><!-- fragment --><p>Prints information about the usage of <b>tasgrid</b>. In addition, writing <b>help</b> after any command will print information specific to that command; effectively, <b>help</b> is a universal option.</p>
<h2><a class="anchor" id="autotoc_md36"></a>
Commands and corresponding C++ functions</h2>
<div class="fragment"><div class="line">./tasgrid -makeglobal         -&gt;  makeGlobalGrid()</div>
<div class="line">./tasgrid -makesequence       -&gt;  makeSequenceGrid()</div>
<div class="line">./tasgrid -makelocalpoly      -&gt;  makeLocalPolynomialGrid()</div>
<div class="line">./tasgrid -makewavelet        -&gt;  makeWaveletGrid()</div>
<div class="line">./tasgrid -makefourier        -&gt;  makeFourierGrid()</div>
<div class="line">./tasgrid -makequadrature     -&gt;  (one of the grids above, see comments)</div>
<div class="line">./tasgrid -makeupdate         -&gt;  updateGlobalGrid()/updateSequenceGrid()</div>
<div class="line">./tasgrid -setconformal       -&gt;  setConformalTransformASIN()</div>
<div class="line">./tasgrid -getquadrature      -&gt;  getQuadratureWeights()/getPoints()</div>
<div class="line">./tasgrid -getinterweights    -&gt;  getInterpolationWeights()</div>
<div class="line">./tasgrid -getdiffweights     -&gt;  getDifferentiationWeights()</div>
<div class="line">./tasgrid -getpoints          -&gt;  getPoints()</div>
<div class="line">./tasgrid -getneededpoints    -&gt;  getNeededPoints()</div>
<div class="line">./tasgrid -loadvalues         -&gt;  loadNeededPoints()</div>
<div class="line">./tasgrid -evaluate           -&gt;  evaluateBatch()</div>
<div class="line">./tasgrid -evalhierarchyd     -&gt;  evaluateHierarchicalFunctions()</div>
<div class="line">./tasgrid -evalhierarchys     -&gt;  evaluateSparseHierarchicalFunctions()</div>
<div class="line">./tasgrid -integrate          -&gt;  integrate()</div>
<div class="line">./tasgrid -differentiate      -&gt;  differentiate()</div>
<div class="line">./tasgrid -getanisotropy      -&gt;  estimateAnisotropicCoefficients()</div>
<div class="line">./tasgrid -refineaniso        -&gt;  setAnisotropicRefinement()</div>
<div class="line">./tasgrid -refinesurp         -&gt;  setSurplusRefinement()</div>
<div class="line">./tasgrid -refine             -&gt;  setAnisotropicRefinement()/setSurplusRefinement()</div>
<div class="line">./tasgrid -cancelrefine       -&gt;  clearRefinement()</div>
<div class="line">./tasgrid -mergerefine        -&gt;  mergeRefinement()</div>
<div class="line">./tasgrid -getcoefficients    -&gt;  getHierarchicalCoefficients()</div>
<div class="line">./tasgrid -setcoefficients    -&gt;  setHierarchicalCoefficients()</div>
<div class="line">./tasgrid -getpoly            -&gt;  getGlobalPolynomialSpace()</div>
<div class="line">./tasgrid -summary            -&gt;  printStats()</div>
<div class="line">./tasgrid &lt;command&gt; help      -&gt; show more info for this command</div>
</div><!-- fragment --><p>Additional notes:</p><ul>
<li>The domain types for all grids are set during the <em>make</em> command, domains cannot be changed with the <b>tasgrid</b> executable since domain changes always change the nodes and effectively generates a new grid.</li>
<li>Make quadrature creates a grid with zero outputs and type that is based on the one dimensional rule, e.g., the <b>-makeupdate</b> grid will automatically detect sequence or global grids.</li>
<li>The <b>-getquadrature</b> command will generate larger matrix, where the first column is the weights and the rest correspond to the points.</li>
<li>The <b>-getinterweights</b> and <b>-getdiffweights</b> commands can work with multiple points at a time, the call will use OpenMP (if available).</li>
<li>The <b>-refine</b> command will call anisotropic refinement on Global, Sequence, and Fourier grids, and surplus refinement for Local Polynomial and Wavelet grids.</li>
<li>The coefficients and hierarchical functions for Fourier grids work with complex numbers, meaning that each pair of consecutive numbers correspond to one complex number (real and complex parts). This the matrices have twice as many columns. Note that this also applies to the coefficients as inputs and outputs (which is different from the C++ API).</li>
<li>The <b>-evaluate</b> command accepts <b>-gpuid</b> options, which allows to select a CUDA device to use for acceleration. If the option is omitted, GPU acceleration will not be used.</li>
</ul>
<h2><a class="anchor" id="autotoc_md37"></a>
Command: -listtypes</h2>
<div class="fragment"><div class="line">./tasgrid -listtypes</div>
</div><!-- fragment --><p>List the available one dimensional quadrature and interpolation rules as well as the different types of grids, refinement and conformal mapping types. Use this command to see the correct spelling of all string options.</p>
<h2><a class="anchor" id="autotoc_md38"></a>
Command: -version or -info</h2>
<div class="fragment"><div class="line">./tasgrid -version</div>
<div class="line">./tasgrid -v</div>
<div class="line">./tasgrid -info</div>
</div><!-- fragment --><p> Prints the version of the library, the available acceleration options, and (if CUDA is enabled) the visible CUDA devices.</p>
<h2><a class="anchor" id="autotoc_md39"></a>
Command: -test</h2>
<div class="fragment"><div class="line">./tasgrid -test</div>
<div class="line">./tasgrid -test random</div>
<div class="line">./tasgrid -test verbose</div>
</div><!-- fragment --><p>Since Tasmanian 6.0 the sparse grids testing is moved to a different executable, i.e., <b>gridtest</b>. The test method of <b>tasgrid</b> is still included but it covers only a sub-set of the tests. Also, the tests take longer, especially when CUDA is enables, since large reference solutions have to be computed on the slower CPU. The <b>gridtest</b> executable takes the <b>random</b> and <b>verbose</b> switches, but does not need the <b>-test</b> command.</p>
<p>The tests rely on random number generation to estimate the accuracy of computed interpolants. If the test fails, this may be indication of a problem with the hard-coded random seed. Using the <b>random</b> option will reset the seed on every run and will provide more statistically significant results.</p>
<p>The <b>verbose</b> will print more detailed output. This affects only the successful tests, failed tests always print verbose information.</p>
<h2><a class="anchor" id="autotoc_md40"></a>
Matrix File Format</h2>
<p>The matrix files have two formats, binary and ASCII. The simple text file describes a two dimensional array of real (double-precision) numbers. The file contains two integers on the first line indicating the number of rows and columns. Those are followed by the actual entries of the matrix one row at a time.</p>
<p>The file containing</p>
<div class="fragment"><div class="line">3 4</div>
<div class="line">1.0  2.0  3.0  4.0</div>
<div class="line">5.0  6.0  7.0  8.0</div>
<div class="line">9.0 10.0 11.0 12.0</div>
</div><!-- fragment --><p> represents the matrix  <picture><source srcset="form_0_dark.png" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$
    \left( \begin{array}{rrrr}
    1 &amp; 2 &amp; 3 &amp; 4 \\
    5 &amp; 6 &amp; 7 &amp; 8 \\
    9 &amp; 10 &amp; 11 &amp; 12 \\
    \end{array} \right)
$" src="form_0.png" width="154" height="65"/></picture></p>
<p>A matrix file may contain only one row or column, e.g., </p><div class="fragment"><div class="line">1 2</div>
<div class="line">13.0 14.0</div>
</div><!-- fragment --><p>In binary format, the file starts with three characters <em>TSG</em> indicating that this is a binary Tasmanian file. The characters are followed by two integers and the double-precision numbers that correspond to the matrix being read left-to-right top-to-bottom.</p>
<p>All files used by <b>tasgrid</b> have the above format with three exceptions. The <b>-gridfile</b> option contains saved sparse grids and it is not intended for editing outside of the <b>tasgrid</b> calls (it is OK to modify using other Tasmanian API calls, e.g., C++ or Python). The <b>-anisotropyfile</b> option requires a matrix with one column and it should contain double-precision numbers that have integer values. The <b>-customrulefile</b> has special format is described the Custom Rule File Format section.</p>
<p>The default mode is to use binary files for all calls to <b>tasgrid</b>, but ASCII files are easier to debug and potentially easier to import to external codes. This <b>tasgrid</b> has an option <b>-ascii</b> that can be added to any command and will force the resulting output to be written in ASCII format. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.15-->
<!-- start footer part -->
<!-- <div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
<!--  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div> -->
</body>
</html>
