<!-- HTML header for doxygen 1.8.15-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Toolkit for Adaptive Stochastic Modeling and Non-Intrusive ApproximatioN: Tasmanian v8.2: libEnsemble Integration</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="tasmanian.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
    <div class="doxygen">
            <a href="http://www.doxygen.org/index.html">
                Doxygen
                </a> 1.9.8
    </div>
   <div id="projectname">Toolkit for Adaptive Stochastic Modeling and Non-Intrusive ApproximatioN: Tasmanian v8.2
           <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('md_Doxygen_2InterfaceLibEnsemble.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">libEnsemble Integration</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md29"></a> Tasmanian has integration with the <a href="https://github.com/Libensemble/libensemble">libEnsemble</a> project, which is a Python library to coordinate the concurrent evaluation of dynamic ensembles of calculations. The workflow management system of libEnsemble can be wrapped around the Tasmanian sparse grid methods for constructing surrogate models and libEnsemble can serve as an intermediary between Tasmanian and the model of interest.</p>
<p>The functionality provided by libEnsemble is similar to that of <code><a class="el" href="group__TasmanianAddonsConstruct.html#ga868eb3d17df0eefb438376c92002b8de" title="Construct a sparse grid surrogate to the model defined by the lambda.">TasGrid::constructSurrogate()</a></code> and <code><a class="el" href="group__TasmanianAddonsMPIConstruct.html#ga959c5c21a2c9bffd485ac75f7098eafb" title="Construct a sparse grid surrogate to the model defined by the lambda, MPI version.">TasGrid::mpiConstructSurrogate()</a></code>. While the native Tasmanian methods are functional, libEnsemble provides much more sophisticated workflow algorithms and much wider support for hardware architectures. One of the main advantages of libEnsemble is that the code is portable on shared memory multi-threaded environments, as well as numerous distributed cluster systems.</p>
<h2><a class="anchor" id="autotoc_md30"></a>
Requirements</h2>
<p>Using Tasmanian and libEnsemble together requires:</p>
<ul>
<li>Tasmanian 7.0 or newer</li>
<li>Tasmanian Python bindings are enabled, e.g., with <code>Tasmanian_ENABLE_PYTHON=ON</code> or the pip-installer</li>
<li>libEnsemble from the latest development branch</li>
<li>see the <a href="https://github.com/Libensemble/libensemble">libEnsemble</a> documentation for any additional requirements</li>
</ul>
<h2><a class="anchor" id="autotoc_md31"></a>
Installation</h2>
<p>The easiest way to install the latest development version of libEnsemble is to clone the repo and use a local pip-installer: </p><div class="fragment"><div class="line">git clone https://github.com/Libensemble/libensemble.git</div>
<div class="line">cd libensemble</div>
<div class="line">git checkout develop</div>
<div class="line">python3 setup.py sdist</div>
<div class="line">python3 -m pip uninstall libensemble</div>
<div class="line">python3 -m pip install dist/*.tar.gz</div>
</div><!-- fragment --><p> See the <a class="el" href="md_Doxygen_2Installation.html">Installation</a> instructions for Tasmanian.</p>
<p>Notes:</p><ul>
<li>the <code>pip</code> approach required both <code>git</code> and the Python <code>pip</code> modules to be installed</li>
<li>see also the libEnsemble instructions for more details</li>
<li>both Tasmanian and libEnsemble works well within a Python <code>venv</code> environment</li>
</ul>
<h2><a class="anchor" id="autotoc_md32"></a>
Basic Usage</h2>
<p>An example of the Tasmanian-libEnsemble integration can be found in the <a href="https://github.com/Libensemble/libensemble/blob/develop/libensemble/tests/regression_tests/test_persistent_tasmanian.py">libEnsemble testing suite</a>. The Tasmanian sparse grid construction algorithm is implemented as the <code>sparse_grid_batched</code> libEnsemble native <code>gen_f</code> function: </p><div class="fragment"><div class="line">from libensemble.gen_funcs.persistent_tasmanian import sparse_grid_batched as gen_f_batched</div>
</div><!-- fragment --><p> The construction method accepts the following user parameters: </p><div class="fragment"><div class="line">gen_specs[&#39;user&#39;][&#39;tasmanian_init&#39;] -&gt; a callable function with no inputs that returns an initialized object of Tasmanian.SparseGrid</div>
<div class="line">gen_specs[&#39;user&#39;][&#39;tasmanian_checkpoint_file&#39;] -&gt; a file for intermediary check pointing as well as the final grid</div>
</div><!-- fragment --><p> No additional parameters are required for static grid construction, e.g., similar to <code><a class="el" href="group__TasmanianAddonsLoadNeededVals.html#gad49a95d0766243ba2d5d1a8f10dedb15" title="Alias to loadNeededValues(), array variant.">TasGrid::loadNeededPoints()</a></code>. Iterative refinement can be enabled with the additional options for either anisotropic strategy </p><div class="fragment"><div class="line">gen_specs[&#39;user&#39;][&#39;refinement&#39;] = &#39;setAnisotropicRefinement&#39;</div>
<div class="line">gen_specs[&#39;user&#39;][&#39;sType&#39;] = &#39;iptotal&#39;</div>
<div class="line">gen_specs[&#39;user&#39;][&#39;iMinGrowth&#39;] = 10</div>
<div class="line">gen_specs[&#39;user&#39;][&#39;iOutput&#39;] = 0</div>
</div><!-- fragment --><p> or surplus strategy </p><div class="fragment"><div class="line">gen_specs[&#39;user&#39;][&#39;refinement&#39;] = &#39;setSurplusRefinement&#39;</div>
<div class="line">gen_specs[&#39;user&#39;][&#39;fTolerance&#39;] = 1.E-2</div>
<div class="line">gen_specs[&#39;user&#39;][&#39;sCriteria&#39;] = &#39;classic&#39;</div>
<div class="line">gen_specs[&#39;user&#39;][&#39;iOutput&#39;] = 0</div>
</div><!-- fragment --><p> See <code><a class="el" href="classTasGrid_1_1TasmanianSparseGrid.html#abeedfde8e084afd6db031faf7d81a482" title="Set refinement using anisotropic estimate for the optimal points.">TasGrid::TasmanianSparseGrid::setAnisotropicRefinement()</a></code> and <code><a class="el" href="classTasGrid_1_1TasmanianSparseGrid.html#a555ded26e1a839b210eb21ac7b488d37" title="Refine the grid based on the surplus coefficients, Sequence grids and Global grids with a sequence ru...">TasGrid::TasmanianSparseGrid::setSurplusRefinement()</a></code> for details. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.15-->
<!-- start footer part -->
<!-- <div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
<!--  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div> -->
</body>
</html>
